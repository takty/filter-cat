var Z=u=>{throw TypeError(u)};var j=(u,e,s)=>e.has(u)||Z("Cannot "+s);var r=(u,e,s)=>(j(u,e,"read from private field"),s?s.call(u):e.get(u)),f=(u,e,s)=>e.has(u)?Z("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(u):e.set(u,s),h=(u,e,s,t)=>(j(u,e,"write to private field"),t?t.call(u,s):e.set(u,s),s),c=(u,e,s)=>(j(u,e,"access private method"),s);var ee=(u,e,s,t)=>({set _(i){h(u,e,i,s)},get _(){return r(u,e,t)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();var z,E,x,I,w,C,q,F,H,B,P,U,K,D,M,$,k,b,N,V,R,v,S,T,l,te,se,ie,A,ne,le,W,re,G,oe,ce,ae,J,fe,he,X,ue,de,Y;const g=class g{constructor(e,s={}){f(this,l);f(this,I,".filter");f(this,w,".list");f(this,C,".filter-key");f(this,q,".filter-select");f(this,F,".filter-enabled");f(this,H,".filter-relation");f(this,B,".filter-values");f(this,P,"%key%");f(this,U,"qvarBase");f(this,K,"qvar");f(this,D,"%value%");f(this,M,"classBase");f(this,$,"key");f(this,k,"count");f(this,b,"depth");f(this,N,!0);f(this,V,!0);f(this,R,!0);f(this,v);f(this,S,new Map);f(this,T,!1);c(this,l,te).call(this,s);const t=document.querySelector(`${r(this,I)}[for="${e}"]`),i=document.querySelector(`${r(this,w)}#${e}`);if(!t||!i)throw new Error;h(this,v,i),c(this,l,J).call(this),c(this,l,se).call(this,e,t),t.removeAttribute("hidden"),r(this,R)&&new MutationObserver(o=>{for(const a of o)a.type==="childList"&&c(this,l,ne).call(this,a.addedNodes[0])}).observe(r(this,v),{childList:!0})}static constructAll(e={}){const s=typeof(e.selFilter??null)=="string"?e.selFilter:".filter",t=typeof(e.selList??null)=="string"?e.selList:".list",i=Array.from(document.querySelectorAll(`${s}:not([for])`)),n=Array.from(document.querySelectorAll(`${t}:not([id])`));for(const o of i){const a=n.shift();if(!a)break;const y=`fl${ee(g,z)._++}`;o.setAttribute("for",String(y)),a.setAttribute("id",String(y)),new g(y,e)}}};z=new WeakMap,E=new WeakSet,x=function(e,s){const t=e[s]??"";return t.length?t:null},I=new WeakMap,w=new WeakMap,C=new WeakMap,q=new WeakMap,F=new WeakMap,H=new WeakMap,B=new WeakMap,P=new WeakMap,U=new WeakMap,K=new WeakMap,D=new WeakMap,M=new WeakMap,$=new WeakMap,k=new WeakMap,b=new WeakMap,N=new WeakMap,V=new WeakMap,R=new WeakMap,v=new WeakMap,S=new WeakMap,T=new WeakMap,l=new WeakSet,te=function(e={}){typeof(e.selFilter??null)=="string"&&h(this,I,e.selFilter),typeof(e.selList??null)=="string"&&h(this,w,e.selList),typeof(e.selFilterKey??null)=="string"&&h(this,C,e.selFilterKey),typeof(e.selFilterSelect??null)=="string"&&h(this,q,e.selFilterSelect),typeof(e.selFilterEnabled??null)=="string"&&h(this,F,e.selFilterEnabled),typeof(e.selFilterRelation??null)=="string"&&h(this,H,e.selFilterRelation),typeof(e.selFilterValues??null)=="string"&&h(this,B,e.selFilterValues),typeof(e.qvarBase??null)=="string"&&h(this,P,e.qvarBase),typeof(e.dsQvarBase??null)=="string"&&h(this,U,e.dsQvarBase),typeof(e.dsQvar??null)=="string"&&h(this,K,e.dsQvar),typeof(e.classBase??null)=="string"&&h(this,D,e.classBase),typeof(e.dsClassBase??null)=="string"&&h(this,M,e.dsClassBase),typeof(e.dsKey??null)=="string"&&h(this,$,e.dsKey),typeof(e.dsCount??null)=="string"&&h(this,k,e.dsCount),typeof(e.dsDepth??null)=="string"&&h(this,b,e.dsDepth),typeof(e.doSetHeadingDepth??null)=="boolean"&&h(this,N,e.doSetHeadingDepth),typeof(e.doInitializeByParams??null)=="boolean"&&h(this,V,e.doInitializeByParams)},se=function(e,s){var o,a,y,m;const t=Array.from(s.querySelectorAll(r(this,C)));c(this,l,ie).call(this,e,t);const i=c(o=g,E,x).call(o,s.dataset,r(this,U))??r(this,P),n=c(a=g,E,x).call(a,s.dataset,r(this,M))??r(this,D);for(const d of t){const L=d.dataset[r(this,$)];if(!L)continue;const O=c(y=g,E,x).call(y,d.dataset,r(this,K))??i.replace("%key%",L),p=(c(m=g,E,x).call(m,d.dataset,r(this,M))??n).replace("%key%",L),Q=d.querySelector(r(this,q));if(Q)r(this,S).set(L,[p,O,"select",[Q,null,null]]);else{const ye=d.querySelector(r(this,F)),me=d.querySelector(r(this,H)),ge=Array.from(d.querySelectorAll(r(this,B)+" input"));r(this,S).set(L,[p,O,"checkbox",[ye,me,ge]])}}for(const[d,[L,O,p,Q]]of r(this,S))c(this,l,le).call(this,p,Q);r(this,V)&&(h(this,T,!0),c(this,l,ce).call(this),h(this,T,!1)),c(this,l,A).call(this)},ie=function(e,s){for(const i of s){const n=i.dataset[r(this,$)];if(!n)continue;t(i,r(this,F),n,"enabled",e),t(i,r(this,H),n,"relation",e);const o=i.querySelector(r(this,q));o&&(o.name=`select-${n}`);const a=Array.from(i.querySelectorAll(r(this,B)+" input"));for(const y of a)y.name=`${n}-${y.value}`}function t(i,n,o,a,y){const m=i.querySelector(n);if(!m)return;m.id=`${a}-${o}-${y}`;let d=m;for(;d.nextElementSibling&&(d=d.nextElementSibling,d.tagName==="LABEL");)d.setAttribute("for",m.id)}},A=function(){if(r(this,T))return;const e=c(this,l,G).call(this);c(this,l,fe).call(this),c(this,l,X).call(this,e),c(this,l,Y).call(this),c(this,l,he).call(this),c(this,l,ae).call(this,e)},ne=function(e=null){const s=c(this,l,G).call(this);c(this,l,J).call(this,e),c(this,l,X).call(this,s,e),c(this,l,Y).call(this,e)},le=function(e,s){if(e==="select"){const[t]=s;t.addEventListener("change",()=>c(this,l,A).call(this))}else if(e==="checkbox"){const[t,i,n]=s;if(t&&n){t.addEventListener("click",()=>{if(t.checked&&!c(this,l,W).call(this,n))for(const o of n)o.checked=!0;if(!t.checked&&c(this,l,re).call(this,n))for(const o of n)o.checked=!1;c(this,l,A).call(this)});for(const o of n)o.addEventListener("click",()=>{t.checked=c(this,l,W).call(this,n),c(this,l,A).call(this)})}i&&i.addEventListener("click",()=>c(this,l,A).call(this))}},W=function(e){for(const s of e)if(s.checked)return!0;return!1},re=function(e){for(const s of e)if(!s.checked)return!1;return!0},G=function(){const e=new Map;for(const[s,[t,i,n,o]]of r(this,S))if(n==="select"){const[a]=o;a&&a.value!==""&&e.set(s,["or",[a.value],t,i])}else if(n==="checkbox"){const[a,y,m]=o;if(m&&a&&a.checked){const d=y&&y.checked?"and":"or";e.set(s,[d,c(this,l,oe).call(this,m),t,i])}}return e},oe=function(e){const s=[];for(const t of e)t.checked&&s.push(t.value);return s},ce=function(){const e=new URLSearchParams(document.location.search);for(const[s,[t,i,n,o]]of r(this,S)){if(!e.has(i))continue;let a=e.get(i),y="or";if(a.startsWith(".")&&(a=a.substring(1),y="and"),n==="select"){const[m]=o;m.value=a}else if(n==="checkbox"){const[m,d,L]=o;if(m&&(m.checked=!0),d&&(d.checked=y==="and"),L){const O=new Set(a.split(",").map(p=>p.trim()));for(const p of L)p.checked=O.has(p.value)}}}},ae=function(e){const s={or:"",and:"."},t=[];for(const[n,[o,a,y,m]]of e)a.length&&t.push(`${m}=${s[o]}${a.join(",")}`);let i;t.length>0?i="?"+t.join("&"):i=document.location.origin+document.location.pathname,history.replaceState("","",i+document.location.hash)},J=function(e=null){if(r(this,N)){e||(e=r(this,v).firstElementChild);for(let s=e;s;s=s==null?void 0:s.nextElementSibling)s instanceof HTMLHeadingElement&&(s.dataset[r(this,b)]=String(parseInt(s.tagName[1])-1))}},fe=function(){for(const e of r(this,v).children)(e instanceof HTMLOListElement||e instanceof HTMLUListElement)&&e.setAttribute("style",`--height:${e.offsetHeight}px;`)},he=function(){for(const e of r(this,v).children)(e instanceof HTMLOListElement||e instanceof HTMLUListElement)&&e.removeAttribute("style")},X=function(e,s=null){s||(s=r(this,v).firstElementChild);for(let t=s;t;t=t==null?void 0:t.nextElementSibling){if(!(t instanceof HTMLOListElement||t instanceof HTMLUListElement))continue;let i=0;for(const n of t.children)n.tagName==="LI"&&(c(this,l,ue).call(this,n,e)?(i+=1,n.removeAttribute("hidden")):n.setAttribute("hidden",""));t.dataset[r(this,k)]=String(i)}},ue=function(e,s){for(const[t,[i,n,o]]of s)if(!c(this,l,de).call(this,e,n,o,i==="or"))return!1;return!0},de=function(e,s,t,i){if(i){for(const n of s){const o=t.replace("%value%",n).replace("_","-");if(e.classList.contains(o))return!0}return!1}else{for(const n of s){const o=t.replace("%value%",n).replace("_","-");if(!e.classList.contains(o))return!1}return!0}},Y=function(e=null){e||(e=r(this,v).firstElementChild);for(let t=e;t;t=t==null?void 0:t.nextElementSibling)t instanceof HTMLHeadingElement&&t.dataset[r(this,b)]&&(t.dataset[r(this,k)]="0");const s=[];for(let t=e==null?void 0:e.previousElementSibling;t;t=t==null?void 0:t.previousElementSibling)if(t instanceof HTMLHeadingElement&&t.dataset[r(this,b)]){const i=parseInt(t.dataset[r(this,b)]??"");(!s.length||i<s[0][1])&&s.unshift([t,i])}for(let t=e;t;t=t==null?void 0:t.nextElementSibling)if(t instanceof HTMLHeadingElement&&t.dataset[r(this,b)]){const i=parseInt(t.dataset[r(this,b)]??"");for(;s.length>0&&!(i>s[s.length-1][1]);)s.length-=1;s.push([t,i])}else if(t instanceof HTMLOListElement||t instanceof HTMLUListElement){const i=parseInt(t.dataset[r(this,k)]??"");for(const[n]of s){const o=parseInt(n.dataset[r(this,k)]??"")+i;n.dataset[r(this,k)]=String(o),o?n.removeAttribute("hidden"):n.setAttribute("hidden","")}}},f(g,E),f(g,z,0);let _=g;_.constructAll();
