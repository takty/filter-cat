var ce=(h,e,t)=>{if(!e.has(h))throw TypeError("Cannot "+t)};var r=(h,e,t)=>(ce(h,e,"read from private field"),t?t.call(h):e.get(h)),l=(h,e,t)=>{if(e.has(h))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(h):e.set(h,t)},f=(h,e,t,i)=>(ce(h,e,"write to private field"),i?i.call(h,t):e.set(h,t),t);var he=(h,e,t,i)=>({set _(s){f(h,e,s,t)},get _(){return r(h,e,i)}}),c=(h,e,t)=>(ce(h,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();var R,A,M,w,P,x,F,B,E,$,T,U,K,C,H,I,k,L,D,Q,m,p,N,j,ue,_,de,W,ye,S,q,G,ge,V,fe,J,me,X,ve,Y,be,Z,ke,ee,Le,te,pe,se,Se,ie,Ae,ne,qe,re,Fe,le,Be,oe,Ee;const g=class g{constructor(e,t={}){l(this,j);l(this,_);l(this,W);l(this,S);l(this,G);l(this,V);l(this,J);l(this,X);l(this,Y);l(this,Z);l(this,ee);l(this,te);l(this,se);l(this,ie);l(this,ne);l(this,re);l(this,le);l(this,oe);l(this,w,".filter");l(this,P,".list");l(this,x,".filter-key");l(this,F,".filter-select");l(this,B,".filter-enabled");l(this,E,".filter-relation");l(this,$,".filter-values");l(this,T,"%key%");l(this,U,"qvarBase");l(this,K,"qvar");l(this,C,"%value%");l(this,H,"classBase");l(this,I,"key");l(this,k,"count");l(this,L,"depth");l(this,D,!0);l(this,Q,!0);l(this,m,void 0);l(this,p,new Map);l(this,N,!1);c(this,j,ue).call(this,t);const i=document.querySelector(`${r(this,w)}[for="${e}"]`),s=document.querySelector(`${r(this,P)}#${e}`);if(!i||!s)throw new Error;f(this,m,s),c(this,_,de).call(this,e,i),c(this,te,pe).call(this),i.removeAttribute("hidden")}static constructAll(e={}){const t=typeof(e.selFilter??null)=="string"?e.selFilter:".filter",i=typeof(e.selList??null)=="string"?e.selList:".list",s=Array.from(document.querySelectorAll(`${t}:not([for])`)),n=Array.from(document.querySelectorAll(`${i}:not([id])`));for(const o of s){const a=n.shift();if(!a)break;const d=`fl${he(g,R)._++}`;o.setAttribute("for",String(d)),a.setAttribute("id",String(d)),new g(d,e)}}};R=new WeakMap,A=new WeakSet,M=function(e,t){const i=e[t]??"";return i.length?i:null},w=new WeakMap,P=new WeakMap,x=new WeakMap,F=new WeakMap,B=new WeakMap,E=new WeakMap,$=new WeakMap,T=new WeakMap,U=new WeakMap,K=new WeakMap,C=new WeakMap,H=new WeakMap,I=new WeakMap,k=new WeakMap,L=new WeakMap,D=new WeakMap,Q=new WeakMap,m=new WeakMap,p=new WeakMap,N=new WeakMap,j=new WeakSet,ue=function(e={}){typeof(e.selFilter??null)=="string"&&f(this,w,e.selFilter),typeof(e.selList??null)=="string"&&f(this,P,e.selList),typeof(e.selFilterKey??null)=="string"&&f(this,x,e.selFilterKey),typeof(e.selFilterSelect??null)=="string"&&f(this,F,e.selFilterSelect),typeof(e.selFilterEnabled??null)=="string"&&f(this,B,e.selFilterEnabled),typeof(e.selFilterRelation??null)=="string"&&f(this,E,e.selFilterRelation),typeof(e.selFilterValues??null)=="string"&&f(this,$,e.selFilterValues),typeof(e.qvarBase??null)=="string"&&f(this,T,e.qvarBase),typeof(e.dsQvarBase??null)=="string"&&f(this,U,e.dsQvarBase),typeof(e.dsQvar??null)=="string"&&f(this,K,e.dsQvar),typeof(e.classBase??null)=="string"&&f(this,C,e.classBase),typeof(e.dsClassBase??null)=="string"&&f(this,H,e.dsClassBase),typeof(e.dsKey??null)=="string"&&f(this,I,e.dsKey),typeof(e.dsCount??null)=="string"&&f(this,k,e.dsCount),typeof(e.dsDepth??null)=="string"&&f(this,L,e.dsDepth),typeof(e.doSetHeadingDepth??null)=="boolean"&&f(this,D,e.doSetHeadingDepth),typeof(e.doInitializeByParams??null)=="boolean"&&f(this,Q,e.doInitializeByParams)},_=new WeakSet,de=function(e,t){var o,a,d,y;const i=Array.from(t.querySelectorAll(r(this,x)));c(this,W,ye).call(this,e,i);const s=c(o=g,A,M).call(o,t.dataset,r(this,U))??r(this,T),n=c(a=g,A,M).call(a,t.dataset,r(this,H))??r(this,C);for(const u of i){const v=u.dataset[r(this,I)];if(!v)continue;const O=c(d=g,A,M).call(d,u.dataset,r(this,K))??s.replace("%key%",v),b=(c(y=g,A,M).call(y,u.dataset,r(this,H))??n).replace("%key%",v),z=u.querySelector(r(this,F));if(z)r(this,p).set(v,[b,O,"select",[z,null,null]]);else{const $e=u.querySelector(r(this,B)),He=u.querySelector(r(this,E)),Ie=Array.from(u.querySelectorAll(r(this,$)+" input"));r(this,p).set(v,[b,O,"checkbox",[$e,He,Ie]])}}for(const[u,[v,O,b,z]]of r(this,p))c(this,G,ge).call(this,b,z);r(this,Q)&&(f(this,N,!0),c(this,Z,ke).call(this),f(this,N,!1)),c(this,S,q).call(this)},W=new WeakSet,ye=function(e,t){for(const s of t){const n=s.dataset[r(this,I)];if(!n)continue;i(s,r(this,B),n,"enabled",e),i(s,r(this,E),n,"relation",e);const o=s.querySelector(r(this,F));o&&(o.name=`select-${n}`);const a=Array.from(s.querySelectorAll(r(this,$)+" input"));for(const d of a)d.name=`${n}-${d.value}`}function i(s,n,o,a,d){const y=s.querySelector(n);if(!y)return;y.id=`${a}-${o}-${d}`;let u=y;for(;u.nextElementSibling&&(u=u.nextElementSibling,u.tagName==="LABEL");)u.setAttribute("for",y.id)}},S=new WeakSet,q=function(){if(r(this,N))return;const e=c(this,X,ve).call(this);c(this,se,Se).call(this),c(this,ne,qe).call(this,e),c(this,oe,Ee).call(this),c(this,ie,Ae).call(this),c(this,ee,Le).call(this,e)},G=new WeakSet,ge=function(e,t){if(e==="select"){const[i]=t;i.addEventListener("change",()=>c(this,S,q).call(this))}else if(e==="checkbox"){const[i,s,n]=t;if(i&&n){i.addEventListener("click",()=>{if(i.checked&&!c(this,V,fe).call(this,n))for(const o of n)o.checked=!0;if(!i.checked&&c(this,J,me).call(this,n))for(const o of n)o.checked=!1;c(this,S,q).call(this)});for(const o of n)o.addEventListener("click",()=>{i.checked=c(this,V,fe).call(this,n),c(this,S,q).call(this)})}s&&s.addEventListener("click",()=>c(this,S,q).call(this))}},V=new WeakSet,fe=function(e){for(const t of e)if(t.checked)return!0;return!1},J=new WeakSet,me=function(e){for(const t of e)if(!t.checked)return!1;return!0},X=new WeakSet,ve=function(){const e=new Map;for(const[t,[i,s,n,o]]of r(this,p))if(n==="select"){const[a]=o;a&&a.value!==""&&e.set(t,["or",[a.value],i,s])}else if(n==="checkbox"){const[a,d,y]=o;if(y&&a&&a.checked){const u=d&&d.checked?"and":"or";e.set(t,[u,c(this,Y,be).call(this,y),i,s])}}return e},Y=new WeakSet,be=function(e){const t=[];for(const i of e)i.checked&&t.push(i.value);return t},Z=new WeakSet,ke=function(){const e=new URLSearchParams(document.location.search);for(const[t,[i,s,n,o]]of r(this,p)){if(!e.has(s))continue;let a=e.get(s),d="or";if(a.startsWith(".")&&(a=a.substring(1),d="and"),n==="select"){const[y]=o;y.value=a}else if(n==="checkbox"){const[y,u,v]=o;if(y&&(y.checked=!0),u&&(u.checked=d==="and"),v){const O=new Set(a.split(",").map(b=>b.trim()));for(const b of v)b.checked=O.has(b.value)}}}},ee=new WeakSet,Le=function(e){const t={or:"",and:"."},i=[];for(const[n,[o,a,d,y]]of e)a.length&&i.push(`${y}=${t[o]}${a.join(",")}`);let s;i.length>0?s="?"+i.join("&"):s=document.location.origin+document.location.pathname,history.replaceState("","",s+document.location.hash)},te=new WeakSet,pe=function(){const e=()=>{for(const t of r(this,m).children)t instanceof HTMLHeadingElement&&(t.dataset[r(this,L)]=String(parseInt(t.tagName[1])-1))};r(this,D)&&e()},se=new WeakSet,Se=function(){for(const e of r(this,m).children){if(!(e instanceof HTMLElement)||e.tagName!=="OL"&&e.tagName!=="UL")continue;const t=e.offsetHeight;e.setAttribute("style",`--height:${t}px;`)}},ie=new WeakSet,Ae=function(){for(const e of r(this,m).children)e instanceof HTMLElement&&(e.tagName!=="OL"&&e.tagName!=="UL"||e.removeAttribute("style"))},ne=new WeakSet,qe=function(e){for(const t of r(this,m).children){if(!(t instanceof HTMLElement)||t.tagName!=="OL"&&t.tagName!=="UL")continue;let i=0;for(const s of t.children)s.tagName==="LI"&&(c(this,re,Fe).call(this,s,e)?(i+=1,s.removeAttribute("hidden")):s.setAttribute("hidden",""));t.dataset[r(this,k)]=String(i)}},re=new WeakSet,Fe=function(e,t){for(const[i,[s,n,o]]of t)if(!c(this,le,Be).call(this,e,n,o,s==="or"))return!1;return!0},le=new WeakSet,Be=function(e,t,i,s){if(s){for(const n of t){const o=i.replace("%value%",n).replace("_","-");if(e.classList.contains(o))return!0}return!1}else{for(const n of t){const o=i.replace("%value%",n).replace("_","-");if(!e.classList.contains(o))return!1}return!0}},oe=new WeakSet,Ee=function(){for(const t of r(this,m).children)t instanceof HTMLElement&&t.dataset[r(this,L)]&&(t.dataset[r(this,k)]="0");const e=[];for(const t of r(this,m).children)if(t instanceof HTMLElement)if(t.dataset[r(this,L)]){const i=parseInt(t.dataset[r(this,L)]??"");for(;e.length>0;){const s=e[e.length-1];if(i>parseInt(s.dataset[r(this,L)]??""))break;e.length-=1}e.push(t)}else{const i=parseInt(t.dataset[r(this,k)]??"");for(const s of e){const n=parseInt(s.dataset[r(this,k)]??"")+i;s.dataset[r(this,k)]=String(n),n?s.removeAttribute("hidden"):s.setAttribute("hidden","")}}},l(g,A),l(g,R,0);let ae=g;ae.constructAll();
