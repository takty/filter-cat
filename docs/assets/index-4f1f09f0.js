var fe=(h,e,s)=>{if(!e.has(h))throw TypeError("Cannot "+s)};var l=(h,e,s)=>(fe(h,e,"read from private field"),s?s.call(h):e.get(h)),r=(h,e,s)=>{if(e.has(h))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(h):e.set(h,s)},f=(h,e,s,t)=>(fe(h,e,"write to private field"),t?t.call(h,s):e.set(h,s),s);var be=(h,e,s,t)=>({set _(i){f(h,e,i,s)},get _(){return l(h,e,t)}}),c=(h,e,s)=>(fe(h,e,"access private method"),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();var G,E,x,I,w,C,q,F,H,B,P,U,K,D,M,$,p,g,N,V,J,b,k,T,X,ve,Y,Le,Z,pe,S,A,ee,ke,te,Se,Q,ue,se,Ee,z,de,ie,Ae,ne,qe,le,Fe,R,ye,re,He,oe,Be,j,me,ce,Me,ae,$e,_,ge;const m=class m{constructor(e,s={}){r(this,X);r(this,Y);r(this,Z);r(this,S);r(this,ee);r(this,te);r(this,Q);r(this,se);r(this,z);r(this,ie);r(this,ne);r(this,le);r(this,R);r(this,re);r(this,oe);r(this,j);r(this,ce);r(this,ae);r(this,_);r(this,I,".filter");r(this,w,".list");r(this,C,".filter-key");r(this,q,".filter-select");r(this,F,".filter-enabled");r(this,H,".filter-relation");r(this,B,".filter-values");r(this,P,"%key%");r(this,U,"qvarBase");r(this,K,"qvar");r(this,D,"%value%");r(this,M,"classBase");r(this,$,"key");r(this,p,"count");r(this,g,"depth");r(this,N,!0);r(this,V,!0);r(this,J,!0);r(this,b,void 0);r(this,k,new Map);r(this,T,!1);c(this,X,ve).call(this,s);const t=document.querySelector(`${l(this,I)}[for="${e}"]`),i=document.querySelector(`${l(this,w)}#${e}`);if(!t||!i)throw new Error;f(this,b,i),c(this,R,ye).call(this),c(this,Y,Le).call(this,e,t),t.removeAttribute("hidden"),l(this,J)&&new MutationObserver(o=>{for(const a of o)a.type==="childList"&&c(this,ee,ke).call(this,a.addedNodes[0])}).observe(l(this,b),{childList:!0})}static constructAll(e={}){const s=typeof(e.selFilter??null)=="string"?e.selFilter:".filter",t=typeof(e.selList??null)=="string"?e.selList:".list",i=Array.from(document.querySelectorAll(`${s}:not([for])`)),n=Array.from(document.querySelectorAll(`${t}:not([id])`));for(const o of i){const a=n.shift();if(!a)break;const d=`fl${be(m,G)._++}`;o.setAttribute("for",String(d)),a.setAttribute("id",String(d)),new m(d,e)}}};G=new WeakMap,E=new WeakSet,x=function(e,s){const t=e[s]??"";return t.length?t:null},I=new WeakMap,w=new WeakMap,C=new WeakMap,q=new WeakMap,F=new WeakMap,H=new WeakMap,B=new WeakMap,P=new WeakMap,U=new WeakMap,K=new WeakMap,D=new WeakMap,M=new WeakMap,$=new WeakMap,p=new WeakMap,g=new WeakMap,N=new WeakMap,V=new WeakMap,J=new WeakMap,b=new WeakMap,k=new WeakMap,T=new WeakMap,X=new WeakSet,ve=function(e={}){typeof(e.selFilter??null)=="string"&&f(this,I,e.selFilter),typeof(e.selList??null)=="string"&&f(this,w,e.selList),typeof(e.selFilterKey??null)=="string"&&f(this,C,e.selFilterKey),typeof(e.selFilterSelect??null)=="string"&&f(this,q,e.selFilterSelect),typeof(e.selFilterEnabled??null)=="string"&&f(this,F,e.selFilterEnabled),typeof(e.selFilterRelation??null)=="string"&&f(this,H,e.selFilterRelation),typeof(e.selFilterValues??null)=="string"&&f(this,B,e.selFilterValues),typeof(e.qvarBase??null)=="string"&&f(this,P,e.qvarBase),typeof(e.dsQvarBase??null)=="string"&&f(this,U,e.dsQvarBase),typeof(e.dsQvar??null)=="string"&&f(this,K,e.dsQvar),typeof(e.classBase??null)=="string"&&f(this,D,e.classBase),typeof(e.dsClassBase??null)=="string"&&f(this,M,e.dsClassBase),typeof(e.dsKey??null)=="string"&&f(this,$,e.dsKey),typeof(e.dsCount??null)=="string"&&f(this,p,e.dsCount),typeof(e.dsDepth??null)=="string"&&f(this,g,e.dsDepth),typeof(e.doSetHeadingDepth??null)=="boolean"&&f(this,N,e.doSetHeadingDepth),typeof(e.doInitializeByParams??null)=="boolean"&&f(this,V,e.doInitializeByParams)},Y=new WeakSet,Le=function(e,s){var o,a,d,y;const t=Array.from(s.querySelectorAll(l(this,C)));c(this,Z,pe).call(this,e,t);const i=c(o=m,E,x).call(o,s.dataset,l(this,U))??l(this,P),n=c(a=m,E,x).call(a,s.dataset,l(this,M))??l(this,D);for(const u of t){const v=u.dataset[l(this,$)];if(!v)continue;const O=c(d=m,E,x).call(d,u.dataset,l(this,K))??i.replace("%key%",v),L=(c(y=m,E,x).call(y,u.dataset,l(this,M))??n).replace("%key%",v),W=u.querySelector(l(this,q));if(W)l(this,k).set(v,[L,O,"select",[W,null,null]]);else{const Te=u.querySelector(l(this,F)),Oe=u.querySelector(l(this,H)),xe=Array.from(u.querySelectorAll(l(this,B)+" input"));l(this,k).set(v,[L,O,"checkbox",[Te,Oe,xe]])}}for(const[u,[v,O,L,W]]of l(this,k))c(this,te,Se).call(this,L,W);l(this,V)&&(f(this,T,!0),c(this,ne,qe).call(this),f(this,T,!1)),c(this,S,A).call(this)},Z=new WeakSet,pe=function(e,s){for(const i of s){const n=i.dataset[l(this,$)];if(!n)continue;t(i,l(this,F),n,"enabled",e),t(i,l(this,H),n,"relation",e);const o=i.querySelector(l(this,q));o&&(o.name=`select-${n}`);const a=Array.from(i.querySelectorAll(l(this,B)+" input"));for(const d of a)d.name=`${n}-${d.value}`}function t(i,n,o,a,d){const y=i.querySelector(n);if(!y)return;y.id=`${a}-${o}-${d}`;let u=y;for(;u.nextElementSibling&&(u=u.nextElementSibling,u.tagName==="LABEL");)u.setAttribute("for",y.id)}},S=new WeakSet,A=function(){if(l(this,T))return;const e=c(this,z,de).call(this);c(this,re,He).call(this),c(this,j,me).call(this,e),c(this,_,ge).call(this),c(this,oe,Be).call(this),c(this,le,Fe).call(this,e)},ee=new WeakSet,ke=function(e=null){const s=c(this,z,de).call(this);c(this,R,ye).call(this,e),c(this,j,me).call(this,s,e),c(this,_,ge).call(this,e)},te=new WeakSet,Se=function(e,s){if(e==="select"){const[t]=s;t.addEventListener("change",()=>c(this,S,A).call(this))}else if(e==="checkbox"){const[t,i,n]=s;if(t&&n){t.addEventListener("click",()=>{if(t.checked&&!c(this,Q,ue).call(this,n))for(const o of n)o.checked=!0;if(!t.checked&&c(this,se,Ee).call(this,n))for(const o of n)o.checked=!1;c(this,S,A).call(this)});for(const o of n)o.addEventListener("click",()=>{t.checked=c(this,Q,ue).call(this,n),c(this,S,A).call(this)})}i&&i.addEventListener("click",()=>c(this,S,A).call(this))}},Q=new WeakSet,ue=function(e){for(const s of e)if(s.checked)return!0;return!1},se=new WeakSet,Ee=function(e){for(const s of e)if(!s.checked)return!1;return!0},z=new WeakSet,de=function(){const e=new Map;for(const[s,[t,i,n,o]]of l(this,k))if(n==="select"){const[a]=o;a&&a.value!==""&&e.set(s,["or",[a.value],t,i])}else if(n==="checkbox"){const[a,d,y]=o;if(y&&a&&a.checked){const u=d&&d.checked?"and":"or";e.set(s,[u,c(this,ie,Ae).call(this,y),t,i])}}return e},ie=new WeakSet,Ae=function(e){const s=[];for(const t of e)t.checked&&s.push(t.value);return s},ne=new WeakSet,qe=function(){const e=new URLSearchParams(document.location.search);for(const[s,[t,i,n,o]]of l(this,k)){if(!e.has(i))continue;let a=e.get(i),d="or";if(a.startsWith(".")&&(a=a.substring(1),d="and"),n==="select"){const[y]=o;y.value=a}else if(n==="checkbox"){const[y,u,v]=o;if(y&&(y.checked=!0),u&&(u.checked=d==="and"),v){const O=new Set(a.split(",").map(L=>L.trim()));for(const L of v)L.checked=O.has(L.value)}}}},le=new WeakSet,Fe=function(e){const s={or:"",and:"."},t=[];for(const[n,[o,a,d,y]]of e)a.length&&t.push(`${y}=${s[o]}${a.join(",")}`);let i;t.length>0?i="?"+t.join("&"):i=document.location.origin+document.location.pathname,history.replaceState("","",i+document.location.hash)},R=new WeakSet,ye=function(e=null){if(l(this,N)){e||(e=l(this,b).firstElementChild);for(let s=e;s;s=s==null?void 0:s.nextElementSibling)s instanceof HTMLHeadingElement&&(s.dataset[l(this,g)]=String(parseInt(s.tagName[1])-1))}},re=new WeakSet,He=function(){for(const e of l(this,b).children)(e instanceof HTMLOListElement||e instanceof HTMLUListElement)&&e.setAttribute("style",`--height:${e.offsetHeight}px;`)},oe=new WeakSet,Be=function(){for(const e of l(this,b).children)(e instanceof HTMLOListElement||e instanceof HTMLUListElement)&&e.removeAttribute("style")},j=new WeakSet,me=function(e,s=null){s||(s=l(this,b).firstElementChild);for(let t=s;t;t=t==null?void 0:t.nextElementSibling){if(!(t instanceof HTMLOListElement||t instanceof HTMLUListElement))continue;let i=0;for(const n of t.children)n.tagName==="LI"&&(c(this,ce,Me).call(this,n,e)?(i+=1,n.removeAttribute("hidden")):n.setAttribute("hidden",""));t.dataset[l(this,p)]=String(i)}},ce=new WeakSet,Me=function(e,s){for(const[t,[i,n,o]]of s)if(!c(this,ae,$e).call(this,e,n,o,i==="or"))return!1;return!0},ae=new WeakSet,$e=function(e,s,t,i){if(i){for(const n of s){const o=t.replace("%value%",n).replace("_","-");if(e.classList.contains(o))return!0}return!1}else{for(const n of s){const o=t.replace("%value%",n).replace("_","-");if(!e.classList.contains(o))return!1}return!0}},_=new WeakSet,ge=function(e=null){e||(e=l(this,b).firstElementChild);for(let t=e;t;t=t==null?void 0:t.nextElementSibling)t instanceof HTMLHeadingElement&&t.dataset[l(this,g)]&&(t.dataset[l(this,p)]="0");const s=[];for(let t=e==null?void 0:e.previousElementSibling;t;t=t==null?void 0:t.previousElementSibling)if(t instanceof HTMLHeadingElement&&t.dataset[l(this,g)]){const i=parseInt(t.dataset[l(this,g)]??"");(!s.length||i<s[0][1])&&s.unshift([t,i])}for(let t=e;t;t=t==null?void 0:t.nextElementSibling)if(t instanceof HTMLHeadingElement&&t.dataset[l(this,g)]){const i=parseInt(t.dataset[l(this,g)]??"");for(;s.length>0&&!(i>s[s.length-1][1]);)s.length-=1;s.push([t,i])}else if(t instanceof HTMLOListElement||t instanceof HTMLUListElement){const i=parseInt(t.dataset[l(this,p)]??"");for(const[n]of s){const o=parseInt(n.dataset[l(this,p)]??"")+i;n.dataset[l(this,p)]=String(o),o?n.removeAttribute("hidden"):n.setAttribute("hidden","")}}},r(m,E),r(m,G,0);let he=m;he.constructAll();
